{"version":3,"sources":["webpack:///./src/veiws/admin/warehouse/billentry/View.vue","webpack:///./src/veiws/admin/warehouse/billentry/View.vue?a24c","webpack:///View.vue?33b8"],"names":["Component","__webpack_require__","module","exports","render","_h","this","$createElement","_c","_self","staticClass","ref","attrs","grid-options","gridOptions","mode","_v","detail-options","detailOptions","staticRenderFns","__webpack_exports__","name","mixins","__WEBPACK_IMPORTED_MODULE_0_mixins__","components","EquipmentDetail","r","e","then","bind","catch","oe","BillentryMd","data","context","featureComponent","getGridComponent","options","$refs","toolbarOptions","operations","id","url","getPermissions","params","operation","permission","getDetailComponent","orderBy","computed","add","edit","remove","print","export","created","columnDefs","hide","type","headerName","field","tooltipField","width","cellRendererParams","format","onClick","entity","open","activated","registQrcodeScannedListener","methods","$store","commit","equipmentScan","param","grid","api","setFilterModel","no","filter","init","reload"],"mappings":"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","file":"static/js/5.9754bf1d3cb6a012af1c.js","sourcesContent":["var Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./View.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3358d65a\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./View.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/veiws/admin/warehouse/billentry/View.vue\n// module id = ALDU\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"jw-view-page\"\n  }, [_c('jw-grid', {\n    ref: \"grid\",\n    attrs: {\n      \"grid-options\": _vm.gridOptions\n    }\n  }, [_c('billentry-md', {\n    ref: \"md\",\n    attrs: {\n      \"mode\": 'dialog'\n    }\n  }), _vm._v(\" \"), _c('equipment-detail', {\n    ref: \"detail\",\n    attrs: {\n      \"detail-options\": _vm.detailOptions\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3358d65a\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/veiws/admin/warehouse/billentry/View.vue\n// module id = WTKH\n// module chunks = 5","<template>\r\n  <div class=\"jw-view-page\">\r\n    <jw-grid ref=\"grid\" :grid-options=\"gridOptions\">\r\n      <billentry-md ref=\"md\" :mode=\"'dialog'\"></billentry-md>\r\n      <equipment-detail ref=\"detail\" :detail-options=\"detailOptions\"></equipment-detail>\r\n    </jw-grid>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  import {ViewlMixin} from 'mixins'\r\n  export default {\r\n    name: 'outboundView',\r\n    mixins: [ViewlMixin],\r\n    components: {\r\n      EquipmentDetail: r => require.ensure([], () => r(require('./Detail')), 'warehouse-outbound'),\r\n      BillentryMd: r => require.ensure([], () => r(require('./BillentryMd')), 'warehouse-outbound')\r\n    },\r\n    data () {\r\n      return {\r\n        detailOptions: {\r\n          context: {\r\n            featureComponent: this,\r\n            getGridComponent (options) {\r\n              return options.context.featureComponent.$refs['grid']\r\n            }\r\n          }\r\n        },\r\n        gridOptions: {\r\n          toolbarOptions: {\r\n            operations: [{id: 'refresh'}, {id: 'add',}, {id: 'export'}]\r\n          },\r\n          context: {\r\n            name: '入库单',\r\n            url: '/api/BillentryAction.action',\r\n            featureComponent: this,\r\n            getPermissions (params, operation) {\r\n              return params.context.featureComponent.permission\r\n            },\r\n            getDetailComponent (params, operation) {\r\n              return params.context.featureComponent.$refs['detail']\r\n            },\r\n            params: {\r\n              orderBy: 'id desc'\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      permission () {\r\n        return {\r\n          add: true,\r\n          edit: true,\r\n          remove: true,\r\n          print: true,\r\n          export: true,\r\n        }\r\n      }\r\n    },\r\n    created () {\r\n      this.gridOptions.columnDefs = [{\r\n        hide: this.mode !== 'selector',\r\n        type: 'Checkbox'\r\n      }, {\r\n        headerName: '单据编号',\r\n        field: 'no',\r\n        tooltipField: 'no',\r\n        type: ['ViewRender', 'LikeFilter'],\r\n        width: 120\r\n      }, {\r\n        headerName: '客户名称',\r\n        field: 'name',\r\n        tooltipField: 'name',\r\n        type: ['LikeFilter'],\r\n        width: 120\r\n      }, {\r\n        headerName: '销货单位',\r\n        field: 'manufacturer',\r\n        tooltipField: 'manufacturer',\r\n        type: ['LikeFilter'],\r\n        width: 120\r\n      }, {\r\n        headerName: '地址电话',\r\n        field: 'addr',\r\n        tooltipField: 'addr',\r\n        type: ['LikeFilter'],\r\n        width: 120\r\n      }, {\r\n        headerName: '总计数量',\r\n        field: 'number',\r\n        type: ['NumberRender'],\r\n        width: 120\r\n      }, {\r\n        headerName: '小计金额',\r\n        field: 'money',\r\n        type: ['NumberRender'],\r\n        width: 120\r\n      }, {\r\n        headerName: '录单日期',\r\n        field: 'purchasedDate',\r\n        type: ['TimestampRender'],\r\n        cellRendererParams: {options: {format: 'YYYY-MM-DD'}},\r\n        width: 120\r\n      }, {\r\n        headerName: '制单人',\r\n        field: 'making',\r\n        tooltipField: 'making',\r\n        width: 120\r\n      }, {\r\n        headerName: '经手人',\r\n        field: 'Handle',\r\n        tooltipField: 'Handle',\r\n        width: 120\r\n      }, {\r\n        headerName: '备注',\r\n        field: 'remark',\r\n        tooltipField: 'remark',\r\n        width: 150\r\n      }, {\r\n        hide: this.mode === 'selector',\r\n        type: 'OperationRender',\r\n        cellRendererParams: {\r\n          operations: [{\r\n            id: 'edit',\r\n            permission: 'edit'\r\n          }, {\r\n            id: 'print',\r\n            onClick (params, entity) {\r\n              let vm = params.context.featureComponent\r\n              vm.$refs['md'].open(entity)\r\n            }\r\n          }, {\r\n            id: 'remove',\r\n            permission: 'remove'\r\n          }]\r\n        }\r\n      }]\r\n    },\r\n    activated () {\r\n      this.registQrcodeScannedListener()\r\n    },\r\n    methods: {\r\n      registQrcodeScannedListener () {\r\n        this.$store.commit('registQrcodeScannedListener', this.equipmentScan)\r\n      },\r\n      equipmentScan (param) {\r\n        this.$refs.grid.api.setFilterModel({\r\n          'no': {filter: param.no, init: true}\r\n        })\r\n        this.$refs.grid.reload()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// View.vue?107e22af"],"sourceRoot":""}