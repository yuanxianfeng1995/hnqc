{"version":3,"sources":["webpack:///./src/veiws/admin/customer/maintain/View.vue","webpack:///./src/veiws/admin/customer/maintain/Detail.vue?2e26","webpack:///Detail.vue?3c2f","webpack:///./src/veiws/admin/customer/maintain/Detail.vue","webpack:///View.vue?8bf3","webpack:///./src/veiws/admin/customer/maintain/View.vue?9707"],"names":["Component","__webpack_require__","module","exports","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","form-options","options","entity","rules","slot","staticClass","label","prop","input-options","contractInputOptions","disabled","operation","model","value","callback","$$v","contract","expression","mode","_v","$set","type","autosize","maxRows","staticRenderFns","__webpack_exports__","name","mixins","__WEBPACK_IMPORTED_MODULE_0_mixins__","components","InformationView","r","e","then","bind","catch","oe","data","contractOptions","gridOptions","nameFiled","selectorOptions","height","context","featureComponent","getViewComponent","$refs","size","url","detailComponent","createEntity","cb","id","license","mileage","CompulsoryInsurance","$moment","toDate","content","userID","loadRemoteEntity","_this","vm","$http","get","params","response","body","success","contractEntity","username","required","message","trigger","max","computed","f_id","f_name","set","EquipmentDetail","Promise","resolve","prints","detailOptions","getGridComponent","toolbarOptions","operations","getPermissions","permission","getDetailComponent","orderBy","add","edit","remove","print","export","created","columnDefs","hide","headerName","field","tooltipField","width","cellRendererParams","format","methods","grid-options","detail-options"],"mappings":"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","file":"static/js/2.07bd455354b764236ca8.js","sourcesContent":["var Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./View.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57bf2ed6\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./View.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/veiws/admin/customer/maintain/View.vue\n// module id = /AuN\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('jy-form-dialog', {\n    ref: \"form\",\n    attrs: {\n      \"form-options\": _vm.options,\n      \"entity\": _vm.entity,\n      \"rules\": _vm.rules\n    }\n  }, [_c('template', {\n    slot: \"fieldset\"\n  }, [_c('el-form-item', {\n    staticClass: \"jw-field jw-field-1\",\n    attrs: {\n      \"label\": \"客户姓名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('jw-input-selector', {\n    attrs: {\n      \"input-options\": _vm.contractInputOptions,\n      \"disabled\": _vm.options.operation !== 'add'\n    },\n    model: {\n      value: (_vm.contract),\n      callback: function($$v) {\n        _vm.contract = $$v\n      },\n      expression: \"contract\"\n    }\n  }, [_c('information-view', {\n    ref: \"informationView\",\n    attrs: {\n      \"mode\": 'selector'\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"jw-field jw-field-1\",\n    attrs: {\n      \"label\": \"车牌号码\",\n      \"prop\": \"license\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.entity.license),\n      callback: function($$v) {\n        _vm.$set(_vm.entity, \"license\", $$v)\n      },\n      expression: \"entity.license\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"jw-field jw-field-1\",\n    attrs: {\n      \"label\": \"里程\",\n      \"prop\": \"license\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.entity.mileage),\n      callback: function($$v) {\n        _vm.$set(_vm.entity, \"mileage\", $$v)\n      },\n      expression: \"entity.mileage\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"jw-field jw-field-1 jw-middle-label\",\n    attrs: {\n      \"label\": \"交强险到期时间\",\n      \"prop\": \"birthday\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"date\"\n    },\n    model: {\n      value: (_vm.entity.CompulsoryInsurance),\n      callback: function($$v) {\n        _vm.$set(_vm.entity, \"CompulsoryInsurance\", $$v)\n      },\n      expression: \"entity.CompulsoryInsurance\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"jw-field jw-field-2\",\n    attrs: {\n      \"label\": \"保养内容\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        maxRows: 6\n      }\n    },\n    model: {\n      value: (_vm.entity.content),\n      callback: function($$v) {\n        _vm.$set(_vm.entity, \"content\", $$v)\n      },\n      expression: \"entity.content\"\n    }\n  })], 1)], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5646977c\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/veiws/admin/customer/maintain/Detail.vue\n// module id = ARWO\n// module chunks = 2","<template>\n  <jy-form-dialog ref=\"form\" :form-options=\"options\" :entity=\"entity\" :rules=\"rules\">\n    <template slot=\"fieldset\">\n      <el-form-item class=\"jw-field jw-field-1\" label=\"客户姓名\" prop=\"name\">\n        <jw-input-selector v-model=\"contract\"\n                           :input-options=\"contractInputOptions\"\n                           :disabled=\"options.operation !== 'add'\">\n          <information-view ref=\"informationView\" :mode=\"'selector'\"/>\n        </jw-input-selector>\n      </el-form-item>\n      <el-form-item class=\"jw-field jw-field-1\" label=\"车牌号码\" prop=\"license\">\n        <el-input  v-model=\"entity.license\" />\n      </el-form-item>\n      <el-form-item class=\"jw-field jw-field-1\" label=\"里程\" prop=\"license\">\n        <el-input  v-model=\"entity.mileage\" />\n      </el-form-item>\n      <el-form-item class=\"jw-field jw-field-1 jw-middle-label\" label=\"交强险到期时间\" prop=\"birthday\">\n        <el-date-picker v-model=\"entity.CompulsoryInsurance\" type=\"date\"/>\n      </el-form-item>\n      <el-form-item class=\"jw-field jw-field-2\" label=\"保养内容\" prop=\"remark\">\n        <el-input v-model=\"entity.content\" type=\"textarea\" :autosize=\"{maxRows: 6}\"/>\n      </el-form-item>\n    </template>\n  </jy-form-dialog>\n</template>\n\n\n<script>\n  import {DetailMixin} from 'mixins'\n\n  export default {\n    name: 'maintainDetail',\n    mixins: [DetailMixin],\n    components: {\n      InformationView: r => require.ensure([], () => r(require('../information/View')), 'customer-information'),\n    },\n    data () {\n      return {\n        contractOptions: {\n          gridOptions: {\n          }\n        },\n        contractInputOptions: {\n          nameFiled: 'name',\n          selectorOptions: {\n            height: 400,\n            context: {\n              name: '客户信息',\n              featureComponent: this,\n              getViewComponent (options) {\n                return options.context.featureComponent.$refs['informationView']\n              }\n            }\n          }\n        },\n        options: {\n          size: 'small',\n          context: {\n            name: '保养信息',\n            url: '/api/UserAction.action',\n            detailComponent: this\n          },\n          createEntity(options, cb) {\n            cb({\n              id: '',\n              license: '',\n              mileage: '',\n              CompulsoryInsurance: this.$moment().toDate(),\n              content: '',\n              userID: null\n            })\n          },\n          loadRemoteEntity (options, cb) {\n            let vm = options.context.detailComponent\n            this.$http.get(options.context.url + '?' + options.params.id).then((response) => {\n              let entity = response.body.success ? response.body.data : {}\n              this.$http.get('/api/UserAction.action?' + entity.userID).then((response) => {\n                vm.contractEntity = response.body.success ? response.body.data : {}\n                entity.username = vm.contractEntity.name\n                cb(entity)\n              })\n            })\n          }\n        },\n        entity: {\n        },\n        rules: {\n          name: [\n            {required: true, message: '请输入设备名称', trigger: 'blur'},\n            {max: 128, message: '长度在128字符以内', trigger: 'blur'}\n          ],\n        }\n      }\n    },\n    computed: {\n      contract: { // 客户列表\n        get () {\n          return {f_id: this.entity.userID, f_name: this.entity.username}\n        },\n        set (contract) {\n          this.entity.userID = contract.id\n          this.entity.username = contract.name\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Detail.vue?217863ca","var Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5646977c\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Detail.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/veiws/admin/customer/maintain/Detail.vue\n// module id = WHOP\n// module chunks = 2","<template>\n  <div class=\"jw-view-page\">\n    <jw-grid ref=\"grid\" :grid-options=\"gridOptions\">\n      <equipment-detail ref=\"detail\" :detail-options=\"detailOptions\"></equipment-detail>\n    </jw-grid>\n  </div>\n</template>\n\n\n<script>\n  import {ViewlMixin} from 'mixins'\n  export default {\n    name: 'maintainView',\n    mixins: [ViewlMixin],\n    components: {\n      EquipmentDetail: r => require.ensure([], () => r(require('./Detail')), 'customer-maintain'),\n    },\n    data () {\n      return {\n        prints: {},\n        detailOptions: {\n          context: {\n            featureComponent: this,\n            getGridComponent (options) {\n              return options.context.featureComponent.$refs['grid']\n            }\n          }\n        },\n        gridOptions: {\n          toolbarOptions: {\n            operations: [{id: 'refresh'}, {id: 'add',}, {id: 'export'}]\n          },\n          context: {\n            name: '保养信息',\n            url: '/api/UserAction.action',\n            featureComponent: this,\n            getPermissions (params, operation) {\n              return params.context.featureComponent.permission\n            },\n            getDetailComponent (params, operation) {\n              return params.context.featureComponent.$refs['detail']\n            },\n            params: {\n              orderBy: 'id'\n            }\n          }\n        }\n      }\n    },\n    computed: {\n      permission () {\n        return {\n          add: true,\n          edit: true,\n          remove: true,\n          print: true,\n          export: true,\n        }\n      }\n    },\n    created () {\n      this.gridOptions.columnDefs = [{\n        hide: this.mode !== 'selector',\n        type: 'Checkbox'\n      }, {\n        type: ['IndexRender']\n      }, {\n        headerName: '客户姓名',\n        field: 'name',\n        tooltipField: 'name',\n        type: ['ViewRender', 'LikeFilter'],\n        width: 120\n      }, {\n        headerName: '车牌号码',\n        field: 'license',\n        tooltipField: 'license',\n        width: 120\n      }, {\n        headerName: '里程',\n        field: 'mileage',\n        tooltipField: 'mileage',\n        width: 120\n      }, {\n        headerName: '交强险到期时间',\n        field: 'CompulsoryInsurance',\n        type: ['TimestampRender'],\n        cellRendererParams: {options: {format: 'YYYY-MM-DD'}},\n        width: 120\n      }, {\n        headerName: '保养内容',\n        field: 'content',\n        tooltipField: 'content',\n        width: 120\n      }, {\n        hide: this.mode === 'selector',\n        type: 'OperationRender',\n        cellRendererParams: {\n          operations: [{\n            id: 'edit',\n            permission: 'edit'\n          }, {\n            id: 'remove',\n            permission: 'remove'\n          }]\n        }\n      }]\n    },\n    methods: {\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// View.vue?1020e1b0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"jw-view-page\"\n  }, [_c('jw-grid', {\n    ref: \"grid\",\n    attrs: {\n      \"grid-options\": _vm.gridOptions\n    }\n  }, [_c('equipment-detail', {\n    ref: \"detail\",\n    attrs: {\n      \"detail-options\": _vm.detailOptions\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57bf2ed6\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/veiws/admin/customer/maintain/View.vue\n// module id = wRuk\n// module chunks = 2"],"sourceRoot":""}