webpackJsonp([2],{"/AuN":function(e,t,n){var i=n("VU/8")(n("v4ba"),n("wRuk"),null,null);e.exports=i.exports},ARWO:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("jy-form-dialog",{ref:"form",attrs:{"form-options":e.options,entity:e.entity,rules:e.rules}},[n("template",{slot:"fieldset"},[n("el-form-item",{staticClass:"jw-field jw-field-1",attrs:{label:"客户姓名",prop:"name"}},[n("jw-input-selector",{attrs:{"input-options":e.contractInputOptions,disabled:"add"!==e.options.operation},model:{value:e.contract,callback:function(t){e.contract=t},expression:"contract"}},[n("information-view",{ref:"informationView",attrs:{mode:"selector"}})],1)],1),e._v(" "),n("el-form-item",{staticClass:"jw-field jw-field-1",attrs:{label:"车牌号码",prop:"license"}},[n("el-input",{model:{value:e.entity.license,callback:function(t){e.$set(e.entity,"license",t)},expression:"entity.license"}})],1),e._v(" "),n("el-form-item",{staticClass:"jw-field jw-field-1",attrs:{label:"里程",prop:"license"}},[n("el-input",{model:{value:e.entity.mileage,callback:function(t){e.$set(e.entity,"mileage",t)},expression:"entity.mileage"}})],1),e._v(" "),n("el-form-item",{staticClass:"jw-field jw-field-1 jw-middle-label",attrs:{label:"交强险到期时间",prop:"birthday"}},[n("el-date-picker",{attrs:{type:"date"},model:{value:e.entity.CompulsoryInsurance,callback:function(t){e.$set(e.entity,"CompulsoryInsurance",t)},expression:"entity.CompulsoryInsurance"}})],1),e._v(" "),n("el-form-item",{staticClass:"jw-field jw-field-2",attrs:{label:"保养内容",prop:"remark"}},[n("el-input",{attrs:{type:"textarea",autosize:{maxRows:6}},model:{value:e.entity.content,callback:function(t){e.$set(e.entity,"content",t)},expression:"entity.content"}})],1)],1)],2)},staticRenderFns:[]}},Ku7w:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("msXN");t.default={name:"maintainDetail",mixins:[i.a],components:{InformationView:function(e){return n.e(8).then(function(){return e(n("bIvR"))}.bind(null,n)).catch(n.oe)}},data:function(){return{contractOptions:{gridOptions:{}},contractInputOptions:{nameFiled:"name",selectorOptions:{height:400,context:{name:"客户信息",featureComponent:this,getViewComponent:function(e){return e.context.featureComponent.$refs.informationView}}}},options:{size:"small",context:{name:"保养信息",url:"/api/UserAction.action",detailComponent:this},createEntity:function(e,t){t({id:"",license:"",mileage:"",CompulsoryInsurance:this.$moment().toDate(),content:"",userID:null})},loadRemoteEntity:function(e,t){var n=this,i=e.context.detailComponent;this.$http.get(e.context.url+"?"+e.params.id).then(function(e){var o=e.body.success?e.body.data:{};n.$http.get("/api/UserAction.action?"+o.userID).then(function(e){i.contractEntity=e.body.success?e.body.data:{},o.username=i.contractEntity.name,t(o)})})}},entity:{},rules:{name:[{required:!0,message:"请输入设备名称",trigger:"blur"},{max:128,message:"长度在128字符以内",trigger:"blur"}]}}},computed:{contract:{get:function(){return{f_id:this.entity.userID,f_name:this.entity.username}},set:function(e){this.entity.userID=e.id,this.entity.username=e.name}}}}},WHOP:function(e,t,n){var i=n("VU/8")(n("Ku7w"),n("ARWO"),null,null);e.exports=i.exports},v4ba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("msXN");t.default={name:"maintainView",mixins:[i.b],components:{EquipmentDetail:function(e){return new Promise(function(e){e()}).then(function(){return e(n("WHOP"))}.bind(null,n)).catch(n.oe)}},data:function(){return{prints:{},detailOptions:{context:{featureComponent:this,getGridComponent:function(e){return e.context.featureComponent.$refs.grid}}},gridOptions:{toolbarOptions:{operations:[{id:"refresh"},{id:"add"},{id:"export"}]},context:{name:"保养信息",url:"/api/UserAction.action",featureComponent:this,getPermissions:function(e,t){return e.context.featureComponent.permission},getDetailComponent:function(e,t){return e.context.featureComponent.$refs.detail},params:{orderBy:"id"}}}}},computed:{permission:function(){return{add:!0,edit:!0,remove:!0,print:!0,export:!0}}},created:function(){this.gridOptions.columnDefs=[{hide:"selector"!==this.mode,type:"Checkbox"},{type:["IndexRender"]},{headerName:"客户姓名",field:"name",tooltipField:"name",type:["ViewRender","LikeFilter"],width:120},{headerName:"车牌号码",field:"license",tooltipField:"license",width:120},{headerName:"里程",field:"mileage",tooltipField:"mileage",width:120},{headerName:"交强险到期时间",field:"CompulsoryInsurance",type:["TimestampRender"],cellRendererParams:{options:{format:"YYYY-MM-DD"}},width:120},{headerName:"保养内容",field:"content",tooltipField:"content",width:120},{hide:"selector"===this.mode,type:"OperationRender",cellRendererParams:{operations:[{id:"edit",permission:"edit"},{id:"remove",permission:"remove"}]}}]},methods:{}}},wRuk:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"jw-view-page"},[t("jw-grid",{ref:"grid",attrs:{"grid-options":this.gridOptions}},[t("equipment-detail",{ref:"detail",attrs:{"detail-options":this.detailOptions}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.07bd455354b764236ca8.js.map